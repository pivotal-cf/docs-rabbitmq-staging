---
breadcrumb: RabbitMQ for Pivotal Cloud Foundry Documentation
title: RabbitMQ for PCF
owner: London Services
---
## <a id='AboutTile'></a>About RabbitMQ for PCF

RabbitMQ for Pivotal Cloud Foundry (PCF) enables PCF app developers to provision and use the RabbitMQ message broker with a
single command.

As of v 1.8, RabbitMQ for PCF supports two types of service, an *on-demand* service and a *pre-provisioned* service.
This table summarizes the main differences between the two:

<table id='rabbit-odb-vs-pre' border="1" class="nice"><tr>
  <col style="width:15%">
  <col style="width:10%">
  <col style="width:28%">
  <col style="width:29%">
  <col style="width:18%">
   <th></th>
   <th>Available Since</th>
   <th>VMs it Runs On</th>
   <th>How VMs are Created</th>
   <th>Metrics Name Prefix</th>
   </tr><tr>
   <th>On-Demand Service</th>
   <td>v1.8</td>
   <td>Dedicated VM that serves a single service instance. See <a href="./ondemand.html">this topic</a> for details.</td>
   <td>PCF creates each VM on-demand when app developer creates service instance</td>
   <td><code>p.rabbitmq</code> (with a dot)</td>
   </tr><tr>
   <th>Pre-Provisioned Service</th>
   <td>v1.2</td>
   <td>Multi-tenant VMs shared by apps across PCF deployment</td>
   <td>PCF creates all VMs when operator deploys or updates service</td>
   <td><code>p-rabbitmq</code> (with a dash)</td>
   </tr>
</table>

This RabbitMQ for PCF v1.8 documentation describes both service types.
Documentation for RabbitMQ for PCF v1.7 and earlier only describes a pre-provisioned service.

### <a id="dedicated"></a> What are On-Demand Instances

In RabbitMQ for PCF versions before v1.8.0, the RabbitMQ service
instances correspond to a unique RabbitMQ Vhost on the multi-tenant RabbitMQ
cluster. RabbitMQ for PCF v1.8.0 introduced [On-Demand Broker
(ODB)](https://docs.pivotal.io/svc-sdk/odb/index.html) support. That means
that a new, single-tenant, cluster can be created and dedicated to a single app.

For more information, see [Unlocking the Power of On-Demand RabbitMQ for PCF](./ondemand.html) and [On-Demand Service Architecture](./about.html).

## <a id='AboutRabbit'></a>About RabbitMQ

RabbitMQ is a fast and dependable open-source message server, which supports a wide range of use cases
including reliable integration, content-based routing and global data delivery, and high-volume monitoring and data ingestion.

Emerging as the de facto standard for cloud messaging, RabbitMQ is used for efficient communication
between servers, apps and devices, and creates lasting value by enabling rapid development of modern decentralized
app and data architectures that can scale with your business needs.


## <a id='snapshot'></a> Product Snapshot

The following table provides version and version-support information about RabbitMQ for PCF.

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
        <td>Version</td>
        <td>v1.13.2</td>
    </tr>
    <tr>
        <td>Release date</td>
        <td>August 3, 2018</td>
    </tr>
    <tr>
        <td>Software component version</td>
        <td>RabbitMQ OSS v3.7.7</td>
    </tr>
    <tr>
        <td>Compatible Ops Manager version(s)</td>
        <td>v2.1.x, and v2.2.x</td>
    </tr>
    <tr>
        <td>Compatible Pivotal Application Service version(s) <sup>*</sup></td>
        <td>v2.1.x and v2.2.x</td>
    </tr>
    <tr>
        <td>IaaS support</td>
        <td>AWS, Azure, GCP, OpenStack, and vSphere</td>
    </tr>
   <tr>
        <td>IPsec support</td>
        <td>No</td>
    </tr>
</table>

\* As of PCF v2.0, Elastic Runtime is renamed Pivotal Application Service (PAS).
[//]: # (For more information, see [Pivotal Application Service (PAS) Highlights](http://docs.pivotal.io/pivotalcf/2-0/installing/highlights.html#ert). )

## <a id='features'></a>Features

###<a id='on-demand'></a> On-Demand

* Create up to 5 different on-demand RabbitMQ plans which can be provisioned through the marketplace
* Choose whether a plan has 1, 3, 5 or 7 nodes
* Default resource sizes in plans to guide selection
* More control over which Orgs and Spaces have visibilty of each configured plan
* Bind apps to an instance of the plan, providing unique credentials for each binding
* Management dashboard access to app developers
* Deployment into an availability zone specified by the plan
* Enable SSL (Secure Sockets Layer) for the AMQP protocol
* Automated upgrades of RabbitMQ for major, minor, and patch releases (see release notes for downtime requirements)
* RabbitMQ Syslog forwarding configuration inherited from the pre-provisioned configuration
* RabbitMQ metrics are exposed on the firehose
* Run smoke tests for on-demand plans on plan 1
* Errands are run on co-located vms to decrease deployment times

For more information, see [Unlocking the Power of On-Demand RabbitMQ for PCF](./ondemand.html).

###<a id='pre-provisioned'></a> Pre-Provisioned

* Provision an instance of the RabbitMQ service, which corresponds to a unique RabbitMQ Vhost (virtual host)
* Bind apps to an instance of the plan, providing unique credentials for each binding
* Management dashboard access to PCF Operators and app developers
* Deployment across multiple availability zones, with nodes striped across the AZs automatically
* Enable SSL (Secure Sockets Layer) for the AMQP, MQTT, STOMP protocols
* HAProxy load balancer across all nodes to balance connections
* Plugin configuration can be easily changed at any time and the cluster redeployed and updated
* The cluster topology can be changed and easily scaled out
* Automated upgrades of RabbitMQ for major, minor, and patch releases (see [Downtime When Upgrading](./upgrade.html#downtime) for downtime requirements)
* Configure the end point for the RabbitMQ Syslog
* RabbitMQ and HAProxy metrics are exposed on the firehose
* Syslog forwarding on by default
* Errands are run on co-located vms to decrease deployment times



## <a id='known-issues'></a>Release Notes and Known Issues

Check the [release notes](releases.html) for your release version for important information and known issues. To see release notes for another version, select the version from the dropdown list at the top of the page.

##<a id="other-services"></a> RabbitMQ for PCF and Other PCF Services

<%= partial '../../rabbitmq-cf/odb/on-demand-service-table' %>

## <a id='feedback'></a>Feedback

Please provide any bugs, feature requests, or questions to the [PCF Feedback list](mailto:pivotal-cf-feedback@pivotal.io).
